{"version":3,"sources":["components/Ingredients/IngredientList.js","components/UI/LoadingIndicator.js","components/UI/Card.js","components/Ingredients/IngredientForm.js","hooks/http.js","components/UI/ErrorModal.js","components/Ingredients/Search.js","components/Ingredients/Ingredients.js","context/auth-context.js","components/Auth.js","App.js","index.js"],"names":["IngredientList","_ref","ingredients","onRemoveItem","console","log","react_default","a","createElement","className","map","_ref2","id","title","amount","key","onClick","bind","LoadingIndicator","Card","children","IngredientForm","memo","loading","onAddIngredient","_useState","useState","_useState2","Object","slicedToArray","enteredTitle","setEnteredTitle","_useState3","_useState4","enteredAmount","setEnteredAmount","components_UI_Card","onSubmit","event","preventDefault","htmlFor","type","value","onChange","target","components_UI_LoadingIndicator","initialState","error","data","extra","identifier","httpReducer","httpState","action","objectSpread2","responseData","errorMessage","Error","useHttp","_useReducer","useReducer","_useReducer2","dispatchHttp","clear","useCallback","url","method","body","requestExtra","fetch","headers","Content-Type","then","response","json","catch","message","ErrorModal","onClose","Fragment","Search","React","onLoadIngredients","enteredFilter","setEnteredFilter","inputRef","useRef","_useHttp","_useHttp2","_useHttp2$","sendRequest","useEffect","timer","setTimeout","current","query","length","concat","clearTimeout","loadedIngredients","hasOwnProperty","call","_data$key","push","UI_ErrorModal","ref","ingredientReducer","currentIngredients","toConsumableArray","ingredient","filter","Ingredients","dispatchIngredients","name","filteredIngredientsHandler","filteredIngredients","addIngredientHandler","JSON","stringify","removeIngredientHandler","ingredientList","useMemo","components_Ingredients_IngredientList","Ingredients_IngredientForm","Ingredients_Search","AuthContext","createContext","isAuth","login","AuthContextProvider","isAuthenticated","setIsAuthenticated","Provider","Auth","authContext","useContext","App","content","src_components_Auth","components_Ingredients_Ingredients","ReactDOM","render","StrictMode","auth_context","src_App","document","getElementById"],"mappings":"2VAsBeA,SAlBQ,SAAAC,GAAmC,IAAhCC,EAAgCD,EAAhCC,YAAaC,EAAmBF,EAAnBE,aAGrC,OAFAC,QAAQC,IAAI,kBAGVC,EAAAC,EAAAC,cAAA,WAASC,UAAU,mBACjBH,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,UACGN,EAAYQ,IAAI,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,GAAIC,EAAPF,EAAOE,MAAOC,EAAdH,EAAcG,OAAd,OACfR,EAAAC,EAAAC,cAAA,MAAIO,IAAKH,EAAII,QAASb,EAAac,YAAWL,IAC5CN,EAAAC,EAAAC,cAAA,YAAOK,GACPP,EAAAC,EAAAC,cAAA,YAAOM,EAAP,YCFGI,SATU,kBACvBZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,eCFWW,SAFF,SAAAlB,GAAA,IAAGmB,EAAHnB,EAAGmB,SAAH,OAAkBd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQW,KC0CvCC,SAzCQC,eAAK,SAAArB,GAAkC,IAA/BsB,EAA+BtB,EAA/BsB,QAASC,EAAsBvB,EAAtBuB,gBACtCC,EAAwCC,mBAAS,IAAjDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAAOK,EAAPH,EAAA,GAAqBI,EAArBJ,EAAA,GACAK,EAA0CN,mBAAS,IAAnDO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAAOE,EAAPD,EAAA,GAAsBE,EAAtBF,EAAA,GAOA,OACE3B,EAAAC,EAAAC,cAAA,WAASC,UAAU,mBACjBH,EAAAC,EAAAC,cAAC4B,EAAD,KACE9B,EAAAC,EAAAC,cAAA,QAAM6B,SARU,SAACC,GACrBA,EAAMC,iBACNf,EAAgB,CAAEX,MAAOiB,EAAchB,OAAQoB,MAOzC5B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,SAAOgC,QAAQ,SAAf,QACAlC,EAAAC,EAAAC,cAAA,SACEiC,KAAK,OACL7B,GAAG,QACH8B,MAAOZ,EACPa,SAAU,SAACL,GAAD,OAAWP,EAAgBO,EAAMM,OAAOF,WAGtDpC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,SAAOgC,QAAQ,UAAf,UACAlC,EAAAC,EAAAC,cAAA,SACEiC,KAAK,SACL7B,GAAG,SACH8B,MAAOR,EACPS,SAAU,SAACL,GAAD,OAAWH,EAAiBG,EAAMM,OAAOF,WAGvDpC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAAA,UAAQiC,KAAK,UAAb,kBACClB,GAAWjB,EAAAC,EAAAC,cAACqC,EAAD,aCpClBC,SAAe,CACnBvB,SAAS,EACTwB,MAAO,KACPC,KAAM,KACNC,MAAO,KACPC,WAAY,OAGRC,EAAc,SAACC,EAAWC,GAC9B,OAAQA,EAAOZ,MACb,IAAK,eACH,MAAO,CACLlB,SAAS,EACTwB,MAAO,KACPC,KAAM,KACNC,MAAO,KACPC,WAAYG,EAAOH,YAEvB,IAAK,WACH,OAAOtB,OAAA0B,EAAA,EAAA1B,QAAA0B,EAAA,EAAA1B,CAAA,GACFwB,GADL,IAEE7B,SAAS,EACTyB,KAAMK,EAAOE,aACbN,MAAOI,EAAOJ,QAElB,IAAK,QACH,MAAO,CAAE1B,SAAS,EAAOwB,MAAOM,EAAOG,cACzC,IAAK,QACH,OAAOV,EAET,QACE,MAAM,IAAIW,MAAM,4BAwCPC,EApCC,WACd,IAAAC,EAAkCC,qBAAWT,EAAaL,GAA1De,EAAAjC,OAAAC,EAAA,EAAAD,CAAA+B,EAAA,GAAOP,EAAPS,EAAA,GAAkBC,EAAlBD,EAAA,GAEME,EAAQC,sBAAY,kBAAMF,EAAa,CAAErB,KAAM,WAAY,IA8BjE,MAAO,CAACW,EA5BYY,sBAClB,SAACC,EAAKC,EAAQC,EAAMC,EAAclB,GAChCY,EAAa,CAAErB,KAAM,eAAgBS,eAErCmB,MAAMJ,EAAK,CACTC,SACAC,OACAG,QAAS,CAAEC,eAAgB,sBAE1BC,KAAK,SAACC,GAAD,OAAcA,EAASC,SAC5BF,KAAK,SAACjB,GACLO,EAAa,CAAErB,KAAM,WAAYc,eAAcN,MAAOmB,MAEvDO,MAAM,SAAC5B,GACN,IAAIS,EAAe,KAEjBA,EADiB,sBAAfN,EACa,sCACS,mBAAfA,EACM,oCAEAH,EAAM6B,QAEvBd,EAAa,CAAErB,KAAM,QAASe,oBAGpC,IAG8BO,ICnDnBc,SAfIvD,eAAK,SAAArB,GAAA,IAAG6E,EAAH7E,EAAG6E,QAAS1D,EAAZnB,EAAYmB,SAAZ,OACtBd,EAAAC,EAAAC,cAACF,EAAAC,EAAMwE,SAAP,KACEzE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWO,QAAS8D,IACnCxE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,SAAIY,GACJd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,UAAQiC,KAAK,SAASzB,QAAS8D,GAA/B,cCsDOE,EAxDAC,IAAM3D,KAAK,SAAArB,GAA2B,IAAxBiF,EAAwBjF,EAAxBiF,kBAC3BzD,EAA0CC,mBAAS,IAAnDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAAO0D,EAAPxD,EAAA,GAAsByD,EAAtBzD,EAAA,GACM0D,EAAWC,mBACjBC,EAAuD7B,IAAvD8B,EAAA5D,OAAAC,EAAA,EAAAD,CAAA2D,EAAA,GAAAE,EAAAD,EAAA,GAASjE,EAATkE,EAASlE,QAASyB,EAAlByC,EAAkBzC,KAAMD,EAAxB0C,EAAwB1C,MAAS2C,EAAjCF,EAAA,GAA8CzB,EAA9CyB,EAAA,GAkCA,OAhCAG,oBAAU,WACR,IAAMC,EAAQC,WAAW,WACvB,GAAIV,IAAkBE,EAASS,QAAQpD,MAAvC,CAGA,IAAMqD,EACqB,IAAzBZ,EAAca,OACV,GADJ,6BAAAC,OAEiCd,EAFjC,KAGFO,EAhBJ,wEAgBsBK,EAAO,SACxB,KAEH,OAAO,WACLG,aAAaN,KAEd,CAACT,EAAeO,EAAaL,IAEhCM,oBAAU,WACR,IAAIpE,IAAWwB,GAAUC,EAAzB,CAIA,IAAMmD,EAAoB,GAC1B,IAAK,IAAMpF,KAAOiC,EAChB,GAAIpB,OAAOwE,eAAeC,KAAKrD,EAAMjC,GAAM,CACzC,IAAAuF,EAA0BtD,EAAKjC,GAAvBF,EAARyF,EAAQzF,MAAOC,EAAfwF,EAAexF,OACfqF,EAAkBI,KAAK,CAAE3F,GAAIG,EAAKF,QAAOC,WAG7CoE,EAAkBiB,KACjB,CAACnD,EAAMzB,EAASwB,EAAOmC,IAGxB5E,EAAAC,EAAAC,cAAA,WAASC,UAAU,UAChBsC,GAASzC,EAAAC,EAAAC,cAACgG,EAAD,CAAY1B,QAASf,GAAQhB,GACvCzC,EAAAC,EAAAC,cAAC4B,EAAD,KACE9B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,gCACCe,GAAWjB,EAAAC,EAAAC,cAAA,uBACZF,EAAAC,EAAAC,cAAA,SACEiG,IAAKpB,EACL5C,KAAK,OACLC,MAAOyC,EACPxC,SAAU,SAACL,GAAD,OAAW8C,EAAiB9C,EAAMM,OAAOF,eC5CzDgE,EAAoB,SAACC,EAAoBtD,GAC7C,OAAQA,EAAOZ,MACb,IAAK,MACH,OAAOY,EAAOnD,YAEhB,IAAK,MACH,SAAA+F,OAAArE,OAAAgF,EAAA,EAAAhF,CAAW+E,GAAX,CAA+BtD,EAAOwD,aACxC,IAAK,SACH,OAAOF,EAAmBG,OAAO,SAAA7G,GAAA,OAAAA,EAAGW,KAAgByC,EAAOzC,KAE7D,QACE,MAAM,IAAI6C,MAAM,2BAgFPsD,EA5EK,WAClB,IAAApD,EAA2CC,qBAAW8C,EAAmB,IAAzE7C,EAAAjC,OAAAC,EAAA,EAAAD,CAAA+B,EAAA,GAAOzD,EAAP2D,EAAA,GAAoBmD,EAApBnD,EAAA,GACA0B,EACE7B,IADF8B,EAAA5D,OAAAC,EAAA,EAAAD,CAAA2D,EAAA,GAAAE,EAAAD,EAAA,GAASjE,EAATkE,EAASlE,QAASyB,EAAlByC,EAAkBzC,KAAMD,EAAxB0C,EAAwB1C,MAAOE,EAA/BwC,EAA+BxC,MAAOC,EAAtCuC,EAAsCvC,WAAcwC,EAApDF,EAAA,GAAiEzB,EAAjEyB,EAAA,GAGAG,oBAAU,WACJpE,GAAWwB,IAII,sBAAfG,EACF8D,EAAoB,CAAEvE,KAAM,SAAU7B,GAAIqC,IAClB,mBAAfC,GACT8D,EAAoB,CAClBvE,KAAM,MACNoE,WAAWjF,OAAA0B,EAAA,EAAA1B,CAAA,CAAGhB,GAAIoC,EAAKiE,MAAShE,OAGnC,CAACD,EAAMC,EAAOC,EAAY3B,EAASwB,IAEtC,IAAMmE,EAA6BlD,sBAAY,SAACmD,GAC9CH,EAAoB,CAAEvE,KAAM,MAAOvC,YAAaiH,KAC/C,IAEGC,EAAuBpD,sBAC3B,SAAC6C,GACCnB,EAAW,wEAET,OACA2B,KAAKC,UAAUT,GACfA,EACA,mBAGJ,CAACnB,IAGG6B,EAA0BvD,sBAC9B,SAACpD,GACC8E,EAAW,oEAAAO,OAC2DrF,EAD3D,SAET,SACA,KACAA,EACA,sBAGJ,CAAC8E,IAGG8B,EAAiBC,kBACrB,kBACEnH,EAAAC,EAAAC,cAACkH,EAAD,CACExH,YAAaA,EACbC,aAAcoH,KAGlB,CAACrH,EAAaqH,IAGhB,OACEjH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACZsC,GAASzC,EAAAC,EAAAC,cAACgG,EAAD,CAAY1B,QAASf,GAAQhB,GACvCzC,EAAAC,EAAAC,cAACmH,EAAD,CACEpG,QAASA,EACTC,gBAAiB4F,IAGnB9G,EAAAC,EAAAC,cAAA,eACEF,EAAAC,EAAAC,cAACoH,EAAD,CAAQ1C,kBAAmBgC,IAC1BM,KChGIK,EAAcC,wBAAc,CAAEC,QAAQ,EAAOC,MAAO,eAgBlDC,EAda,SAAAhI,GAAkB,IAAfmB,EAAenB,EAAfmB,SAC7BK,EAA8CC,oBAAS,GAAvDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAAOyG,EAAPvG,EAAA,GAAwBwG,EAAxBxG,EAAA,GAIA,OACErB,EAAAC,EAAAC,cAACqH,EAAYO,SAAb,CACE1F,MAAO,CAAEsF,MAJQ,kBAAMG,GAAmB,IAIZJ,OAAQG,IAErC9G,ICSQiH,SAhBF,WACX,IAAMC,EAAcC,qBAAWV,GAI/B,OACEvH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAC4B,EAAD,KACE9B,EAAAC,EAAAC,cAAA,wCACAF,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAAA,UAAQQ,QAPO,kBAAMsH,EAAYN,UAOjC,cCCOQ,EAXH,WACV,IAAMF,EAAcC,qBAAWV,GAE3BY,EAAUnI,EAAAC,EAAAC,cAACkI,EAAD,MAKd,OAJIJ,EAAYP,SACdU,EAAUnI,EAAAC,EAAAC,cAACmI,EAAD,OAGLF,GCPTG,IAASC,OACPvI,EAAAC,EAAAC,cAACF,EAAAC,EAAMuI,WAAP,KACExI,EAAAC,EAAAC,cAACuI,EAAD,KACEzI,EAAAC,EAAAC,cAACwI,EAAD,QAGJC,SAASC,eAAe","file":"static/js/main.16416c0a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './IngredientList.css';\r\n\r\nconst IngredientList = ({ ingredients, onRemoveItem }) => {\r\n  console.log('IngredientList');\r\n\r\n  return (\r\n    <section className=\"ingredient-list\">\r\n      <h2>Loaded Ingredients</h2>\r\n      <ul>\r\n        {ingredients.map(({ id, title, amount }) => (\r\n          <li key={id} onClick={onRemoveItem.bind(this, id)}>\r\n            <span>{title}</span>\r\n            <span>{amount}x</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default IngredientList;\r\n","import React from 'react';\r\nimport './LoadingIndicator.css';\r\n\r\nconst LoadingIndicator = () => (\r\n  <div className=\"lds-ring\">\r\n    <div />\r\n    <div />\r\n    <div />\r\n    <div />\r\n  </div>\r\n);\r\n\r\nexport default LoadingIndicator;\r\n","import React from 'react';\r\n\r\nimport './Card.css';\r\n\r\nconst Card = ({ children }) => <div className=\"card\">{children}</div>;\r\n\r\nexport default Card;\r\n","import React, { useState, memo } from 'react';\r\nimport LoadingIndicator from '../UI/LoadingIndicator';\r\nimport Card from '../UI/Card';\r\nimport './IngredientForm.css';\r\n\r\nconst IngredientForm = memo(({ loading, onAddIngredient }) => {\r\n  const [enteredTitle, setEnteredTitle] = useState('');\r\n  const [enteredAmount, setEnteredAmount] = useState('');\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    onAddIngredient({ title: enteredTitle, amount: enteredAmount });\r\n  };\r\n\r\n  return (\r\n    <section className=\"ingredient-form\">\r\n      <Card>\r\n        <form onSubmit={submitHandler}>\r\n          <div className=\"form-control\">\r\n            <label htmlFor=\"title\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"title\"\r\n              value={enteredTitle}\r\n              onChange={(event) => setEnteredTitle(event.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"form-control\">\r\n            <label htmlFor=\"amount\">Amount</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"amount\"\r\n              value={enteredAmount}\r\n              onChange={(event) => setEnteredAmount(event.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"ingredient-form__actions\">\r\n            <button type=\"submit\">Add Ingredient</button>\r\n            {loading && <LoadingIndicator />}\r\n          </div>\r\n        </form>\r\n      </Card>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default IngredientForm;\r\n","import { useReducer, useCallback } from 'react';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  data: null,\r\n  extra: null,\r\n  identifier: null,\r\n};\r\n\r\nconst httpReducer = (httpState, action) => {\r\n  switch (action.type) {\r\n    case 'SEND_REQUEST':\r\n      return {\r\n        loading: true,\r\n        error: null,\r\n        data: null,\r\n        extra: null,\r\n        identifier: action.identifier,\r\n      };\r\n    case 'RESPONSE':\r\n      return {\r\n        ...httpState,\r\n        loading: false,\r\n        data: action.responseData,\r\n        extra: action.extra,\r\n      };\r\n    case 'ERROR':\r\n      return { loading: false, error: action.errorMessage };\r\n    case 'CLEAR':\r\n      return initialState;\r\n\r\n    default:\r\n      throw new Error('Should not be reached!');\r\n  }\r\n};\r\n\r\nconst useHttp = () => {\r\n  const [httpState, dispatchHttp] = useReducer(httpReducer, initialState);\r\n\r\n  const clear = useCallback(() => dispatchHttp({ type: 'CLEAR' }), []);\r\n\r\n  const sendRequest = useCallback(\r\n    (url, method, body, requestExtra, identifier) => {\r\n      dispatchHttp({ type: 'SEND_REQUEST', identifier });\r\n\r\n      fetch(url, {\r\n        method,\r\n        body,\r\n        headers: { 'Content-Type': 'application/json' },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((responseData) => {\r\n          dispatchHttp({ type: 'RESPONSE', responseData, extra: requestExtra });\r\n        })\r\n        .catch((error) => {\r\n          let errorMessage = null;\r\n          if (identifier === 'REMOVE_INGREDIENT') {\r\n            errorMessage = 'Removing the ingredient went wrong!';\r\n          } else if (identifier === 'ADD_INGREDIENT') {\r\n            errorMessage = 'Adding the ingredient went wrong!';\r\n          } else {\r\n            errorMessage = error.message;\r\n          }\r\n          dispatchHttp({ type: 'ERROR', errorMessage });\r\n        });\r\n    },\r\n    []\r\n  );\r\n\r\n  return [httpState, sendRequest, clear];\r\n};\r\n\r\nexport default useHttp;\r\n","import React, { memo } from 'react';\r\n\r\nimport './ErrorModal.css';\r\n\r\nconst ErrorModal = memo(({ onClose, children }) => (\r\n  <React.Fragment>\r\n    <div className=\"backdrop\" onClick={onClose} />\r\n    <div className=\"error-modal\">\r\n      <h2>An Error Occurred!</h2>\r\n      <p>{children}</p>\r\n      <div className=\"error-modal__actions\">\r\n        <button type=\"button\" onClick={onClose}>\r\n          Okay\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </React.Fragment>\r\n));\r\n\r\nexport default ErrorModal;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport Card from '../UI/Card';\r\nimport './Search.css';\r\nimport useHttp from '../../hooks/http';\r\nimport ErrorModal from '../UI/ErrorModal';\r\n\r\nconst url =\r\n  'https://react-http-7aca5-default-rtdb.firebaseio.com/ingredients.json';\r\n\r\nconst Search = React.memo(({ onLoadIngredients }) => {\r\n  const [enteredFilter, setEnteredFilter] = useState('');\r\n  const inputRef = useRef();\r\n  const [{ loading, data, error }, sendRequest, clear] = useHttp();\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (enteredFilter !== inputRef.current.value) {\r\n        return;\r\n      }\r\n      const query =\r\n        enteredFilter.length === 0\r\n          ? ''\r\n          : `?orderBy=\"title\"&equalTo=\"${enteredFilter}\"`;\r\n      sendRequest(url + query, 'GET');\r\n    }, 500);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [enteredFilter, sendRequest, inputRef]);\r\n\r\n  useEffect(() => {\r\n    if (loading || error || !data) {\r\n      return;\r\n    }\r\n\r\n    const loadedIngredients = [];\r\n    for (const key in data) {\r\n      if (Object.hasOwnProperty.call(data, key)) {\r\n        const { title, amount } = data[key];\r\n        loadedIngredients.push({ id: key, title, amount });\r\n      }\r\n    }\r\n    onLoadIngredients(loadedIngredients);\r\n  }, [data, loading, error, onLoadIngredients]);\r\n\r\n  return (\r\n    <section className=\"search\">\r\n      {error && <ErrorModal onClose={clear}>{error}</ErrorModal>}\r\n      <Card>\r\n        <div className=\"search-input\">\r\n          <label>Filter by Title</label>\r\n          {loading && <p>Loading...</p>}\r\n          <input\r\n            ref={inputRef}\r\n            type=\"text\"\r\n            value={enteredFilter}\r\n            onChange={(event) => setEnteredFilter(event.target.value)}\r\n          />\r\n        </div>\r\n      </Card>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Search;\r\n","import React, {\r\n  useReducer,\r\n  useCallback,\r\n  // useState\r\n  useMemo,\r\n  useEffect,\r\n} from 'react';\r\nimport IngredientList from './IngredientList';\r\nimport IngredientForm from './IngredientForm';\r\nimport Search from './Search';\r\nimport ErrorModal from '../UI/ErrorModal';\r\nimport useHttp from '../../hooks/http';\r\n\r\nconst ingredientReducer = (currentIngredients, action) => {\r\n  switch (action.type) {\r\n    case 'SET':\r\n      return action.ingredients;\r\n\r\n    case 'ADD':\r\n      return [...currentIngredients, action.ingredient];\r\n    case 'REMOVE':\r\n      return currentIngredients.filter(({ id }) => id !== action.id);\r\n\r\n    default:\r\n      throw new Error('Should not get there!');\r\n  }\r\n};\r\n\r\nconst Ingredients = () => {\r\n  const [ingredients, dispatchIngredients] = useReducer(ingredientReducer, []);\r\n  const [{ loading, data, error, extra, identifier }, sendRequest, clear] =\r\n    useHttp();\r\n\r\n  useEffect(() => {\r\n    if (loading || error) {\r\n      return;\r\n    }\r\n\r\n    if (identifier === 'REMOVE_INGREDIENT') {\r\n      dispatchIngredients({ type: 'REMOVE', id: extra });\r\n    } else if (identifier === 'ADD_INGREDIENT') {\r\n      dispatchIngredients({\r\n        type: 'ADD',\r\n        ingredient: { id: data.name, ...extra },\r\n      });\r\n    }\r\n  }, [data, extra, identifier, loading, error]);\r\n\r\n  const filteredIngredientsHandler = useCallback((filteredIngredients) => {\r\n    dispatchIngredients({ type: 'SET', ingredients: filteredIngredients });\r\n  }, []);\r\n\r\n  const addIngredientHandler = useCallback(\r\n    (ingredient) => {\r\n      sendRequest(\r\n        `https://react-http-7aca5-default-rtdb.firebaseio.com/ingredients.json`,\r\n        'POST',\r\n        JSON.stringify(ingredient),\r\n        ingredient,\r\n        'ADD_INGREDIENT'\r\n      );\r\n    },\r\n    [sendRequest]\r\n  );\r\n\r\n  const removeIngredientHandler = useCallback(\r\n    (id) => {\r\n      sendRequest(\r\n        `https://react-http-7aca5-default-rtdb.firebaseio.com/ingredients/${id}.json`,\r\n        'DELETE',\r\n        null,\r\n        id,\r\n        'REMOVE_INGREDIENT'\r\n      );\r\n    },\r\n    [sendRequest]\r\n  );\r\n\r\n  const ingredientList = useMemo(\r\n    () => (\r\n      <IngredientList\r\n        ingredients={ingredients}\r\n        onRemoveItem={removeIngredientHandler}\r\n      />\r\n    ),\r\n    [ingredients, removeIngredientHandler]\r\n  );\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {error && <ErrorModal onClose={clear}>{error}</ErrorModal>}\r\n      <IngredientForm\r\n        loading={loading}\r\n        onAddIngredient={addIngredientHandler}\r\n      />\r\n\r\n      <section>\r\n        <Search onLoadIngredients={filteredIngredientsHandler} />\r\n        {ingredientList}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ingredients;\r\n","import React, { createContext, useState } from 'react';\r\n\r\nexport const AuthContext = createContext({ isAuth: false, login: () => {} });\r\n\r\nconst AuthContextProvider = ({ children }) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  const loginHandler = () => setIsAuthenticated(true);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ login: loginHandler, isAuth: isAuthenticated }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContextProvider;\r\n","import React, { useContext } from 'react';\r\n\r\nimport Card from './UI/Card';\r\nimport { AuthContext } from '../context/auth-context';\r\nimport './Auth.css';\r\n\r\nconst Auth = () => {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const loginHandler = () => authContext.login();\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <Card>\r\n        <h2>You are not authenticated!</h2>\r\n        <p>Please log in to continue.</p>\r\n        <button onClick={loginHandler}>Log In</button>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useContext } from 'react';\r\n\r\nimport Ingredients from './components/Ingredients/Ingredients';\r\nimport Auth from './components/Auth';\r\nimport { AuthContext } from './context/auth-context';\r\n\r\nconst App = () => {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  let content = <Auth />;\r\n  if (authContext.isAuth) {\r\n    content = <Ingredients />;\r\n  }\r\n\r\n  return content;\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport AuthContextProvider from './context/auth-context';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <App />\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}